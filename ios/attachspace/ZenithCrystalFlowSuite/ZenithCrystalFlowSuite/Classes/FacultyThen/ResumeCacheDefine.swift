
//: Declare String Begin

/*: "TalkingAddrServerUrlSelectIndexKey" :*/
fileprivate let dream_contentKey:[UInt8] = [0x72,0x47,0x4a,0x4d,0x4f,0x48,0x41,0x67,0x42,0x42,0x54,0x75,0x43,0x54,0x50,0x43,0x54,0x73,0x54,0x4a,0x75,0x43,0x4a,0x43,0x45,0x52,0x6f,0x48,0x42,0x43,0x5e,0x6d,0x43,0x5f]

private func lengthList(model num: UInt8) -> UInt8 {
    return num ^ 38
}

/*: "TalkingAppleLoginNickNameKey" :*/
fileprivate let notiGiftContent:[Character] = ["T","a","l","k","i","n","g","A","p","p","l"]
fileprivate let kShowUrl:[Character] = ["e","L","o","g","i","n","N","i","c"]
fileprivate let dreamSizeEqualPath:String = "pic total return selfkNameKey"

/*: "TalkingLoginUidCacheKey" :*/
fileprivate let main_imageFormat:String = "Talkiimage location center if"
fileprivate let m_atStr:String = "equal normal button false modelnUidCa"
fileprivate let showViewKey:String = "cheKeycell attribute data"

/*: "TalkingLoginUserInfoCacheKey" :*/
fileprivate let appLayerLikeNameFormat:String = "block stopTalkin"
fileprivate let main_stylePath:String = "UserIimage view self total top"
fileprivate let show_removeData:[Character] = ["e","K","e","y"]

/*: "TalkingLastLoginTypeCacheKey" :*/
fileprivate let kErrorFormat:[Character] = ["T","a","l","k","i","n","g","L","a","s","t"]
fileprivate let showRangeDataKey:[Character] = ["L","o","g","i","n","T","y","p","e"]
fileprivate let noti_giftKey:[Character] = ["C","a","c","h","e","K","e","y"]

/*: "TalkingLoginUserConfigKey" :*/
fileprivate let notiMakeTopInTitle:[Character] = ["T","a","l","k","i","n","g","L","o","g","i","n","U","s","e","r","C","o","n","f"]
fileprivate let userRemoveFormat:[Character] = ["i","g","K","e","y"]
 
/*: "TalkingUserTagCacheUrlKey" :*/
fileprivate let dream_toolFormat:String = "Talkicolor request"
fileprivate let dream_cardMsg:String = "in add trueTagCache"
fileprivate let main_managerValue:String = "UrlKeyimage text image make"

/*: "TalkingUserCookiesKey" :*/
fileprivate let user_pushStr:[Character] = ["T","a","l","k","i","n","g","U","s","e","r","C","o","o","k"]
fileprivate let app_statusData:String = "true normal express selfiesKey"

/*: "TalkingHomeTabTurnOnNotificationsKey" :*/
fileprivate let show_giftKitData:[UInt8] = [0x83,0x90,0x9b,0x9a,0x98,0x9d,0x96,0x77,0x9e,0x9c,0x94,0x83,0x90,0x91,0x83,0xa4,0xa1,0x9d,0x7e,0x9d,0x7d,0x9e,0xa3,0x98,0x95,0x98,0x92,0x90,0xa3,0x98,0x9e,0x9d,0xa2,0x7a,0x94,0xa8]

fileprivate func statusField(error num: UInt8) -> UInt8 {
    let value = Int(num) - 47
    if value < 0 {
        return UInt8(value + 256)
    } else {
        return UInt8(value)
    }
}

/*: "TalkingMessageTabTurnOnNotificationsKey" :*/
fileprivate let dreamTitleKey:[UInt8] = [0x7,0x32,0x3f,0x38,0x3a,0x3d,0x34,0x1e,0x36,0x20,0x20,0x32,0x34,0x36,0x7,0x32,0x31,0x7,0x26,0x21,0x3d,0x1c,0x3d,0x1d,0x3c,0x27,0x3a,0x35,0x3a,0x30,0x32,0x27,0x3a,0x3c,0x3d,0x20,0x18,0x36,0x2a]

private func militaryInstallation(data num: UInt8) -> UInt8 {
    return num ^ 83
}

/*: "TalkingMessageTabCloseNotificationsKey" :*/
fileprivate let k_recordStr:[UInt8] = [0x89,0xbc,0xb1,0xb6,0xb4,0xb3,0xba,0x90,0xb8,0xae,0xae,0xbc,0xba,0xb8,0x89,0xbc,0xbf,0x9e,0xb1,0xb2,0xae,0xb8,0x93,0xb2,0xa9,0xb4,0xbb,0xb4,0xbe,0xbc,0xa9,0xb4,0xb2,0xb3,0xae,0x96,0xb8,0xa4]

/*: "TalkingCallShowTag" :*/
fileprivate let dream_toIdent:String = "to picture cell contentTalkin"
fileprivate let show_atValue:String = "gCcase in in"
fileprivate let dream_modelName:String = "allSright super image equal to"

/*: "TalkingFirstShowIntimateGuide" :*/
fileprivate let app_viewMsg:[Character] = ["T","a","l","k","i","n","g","F","i","r","s","t","S","h","o","w","I","n","t","i","m","a","t","e"]
fileprivate let mImageId:[Character] = ["G","u","i","d","e"]

/*: "TalkingFreeTipsViewIsShow_ :*/
fileprivate let userQueryStr:[Character] = ["T","a","l","k","i","n","g"]
fileprivate let dreamModelData:[Character] = ["F","r"]
fileprivate let userAcceptId:String = "eeTicase make collection"
fileprivate let main_managerContentStr:String = "add byIsShow_"

/*: "TalkingLiveTabExplainIsShow_ :*/
fileprivate let k_withPath:[Character] = ["T","a","l","k","i","n","g","L","i","v","e","T","a","b","E","x","p","l","a","i","n","I","s","S","h","o","w"]
fileprivate let userToData:String = "detail"

/*: "TalkingMaleUnsubscribedAlertIsShow_ :*/
fileprivate let dreamById:[UInt8] = [0x5f,0x77,0x6f,0x68,0x53,0x73,0x49,0x74,0x72,0x65,0x6c,0x41,0x64,0x65,0x62,0x69,0x72,0x63,0x73,0x62,0x75,0x73,0x6e,0x55,0x65,0x6c,0x61,0x4d,0x67,0x6e,0x69,0x6b,0x6c,0x61,0x54]

/*: "TalkingAIIntimacyViewIsShow" :*/
fileprivate let mPackageFormat:String = "var viewTalkin"
fileprivate let mainBackgroundKey:String = "titopac"
fileprivate let mainErrorIdent:[Character] = ["S","h","o","w"]

/*: "isFirstShowAnimatCacheKey" :*/
fileprivate let m_bottomText:String = "in price user match deviceisFi"
fileprivate let main_imagePath:[Character] = ["n","i"]
fileprivate let dreamPointData:[Character] = ["m","a","t","C","a","c","h","e","K","e","y"]

/*: "isFirstShowMatchTipsViewCacheKey" :*/
fileprivate let userResentKey:[UInt8] = [0x79,0x65,0x4b,0x65,0x68,0x63,0x61,0x43,0x77,0x65,0x69,0x56,0x73,0x70,0x69,0x54,0x68,0x63,0x74,0x61,0x4d,0x77,0x6f,0x68,0x53,0x74,0x73,0x72,0x69,0x46,0x73,0x69]

/*: "isShowCleanAnimatCacheKey" :*/
fileprivate let noti_beautyUrl:String = "background return file noisShow"
fileprivate let user_bottomMsg:String = "format text selfnimatC"
fileprivate let dreamSelectData:[Character] = ["a","c","h","e","K","e","y"]

/*: "isConversationIntimateCacheKey" :*/
fileprivate let noti_lineStr:[Character] = ["i","s","C","o","n","v","e","r","s","a","t","i","o","n","I","n","t","i","m","a","t"]
fileprivate let show_isolateTitle:String = "time"
fileprivate let mHeartUrl:String = "Cachto progress var left"

/*: "sendAutoGreetIsTo" :*/
fileprivate let main_ofValue:String = "sshownd"
fileprivate let app_valueFormat:String = "eetIsTochange to center make"

/*: "SaveInviteCodeKey" :*/
fileprivate let userMakeListSuperMessage:[Character] = ["S","a","v","e","I","n","v"]
fileprivate let kNameMessage:[Character] = ["i","t","e","C","o","d","e","K","e","y"]

/*: "PrivateChatTipsTitle" :*/
fileprivate let k_layerName:String = "Privaequal size"
fileprivate let userRemoveStr:[Character] = ["t","e"]
fileprivate let mModelUrl:String = "string selfChatT"
fileprivate let userErrorId:String = "ITLE"

/*: "/Documents/User/record/" :*/
fileprivate let user_viewMessage:String = "/Doctop add"
fileprivate let app_valueContent:String = "s/Userself value type video center"
fileprivate let dreamAddText:[Character] = ["/","r","e","c","o","r","d","/"]

/*: "/Documents/User/voice/" :*/
fileprivate let main_toText:[Character] = ["/","D","o","c","u","m","e","n"]
fileprivate let m_labelId:String = "always layerts/User"
fileprivate let app_clickMessage:[Character] = ["/","v","o","i","c","e","/"]

/*: "MessageIntimatePhoto" :*/
fileprivate let dreamBlockStr:[Character] = ["M","e","s","s","a","g","e","I","n","t","i","m","a","t","e"]
fileprivate let m_fromUrl:String = "Photocolor error cookie table match"

/*: "IntimateDict_ :*/
fileprivate let appMakeKey:[Character] = ["I","n","t","i","m","a"]
fileprivate let main_frameWithIdent:[Character] = ["t","e","D","i","c","t","_"]

/*: "MessageIntimateVideo" :*/
fileprivate let kPushAcceptUrl:String = "actual position text self touchMessa"
fileprivate let dreamBottomPath:String = "timeima"

/*: "MessageAskForGift" :*/
fileprivate let k_countId:String = "title minMessa"
fileprivate let showViewMessage:String = "for selected info videokForGift"

/*: "AskForGiftArr_ :*/
fileprivate let main_indexUrl:String = "self card m selfAskFor"

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  ResumeCacheDefine.swift
//  AbroadTalking
//
//  Created by Hemming on 2022/8/27.
//

//: import UIKit
import UIKit

//: let Defaults = UserDefaults.standard
let dreamBottomMsg = UserDefaults.standard

// MARK: - UserDefaults

//: public let TalkingAddrServerUrlSelectIndexKey   = "TalkingAddrServerUrlSelectIndexKey"
public let k_errPathKey = String(bytes: dream_contentKey.map{lengthList(model: $0)}, encoding: .utf8)!
// 苹果登录只会在第一次授权时获得昵称信息，需缓存起来，防止用户终止流程再次获取不到昵称
//: public let TalkingAppleLoginNickNameKey             = "TalkingAppleLoginNickNameKey"
public let userScreenData = (String(notiGiftContent) + String(kShowUrl) + String(dreamSizeEqualPath.suffix(8)))

//: public let TalkingLoginUidCacheKey                  = "TalkingLoginUidCacheKey"                  // uid缓存
public let k_messageStr = (String(main_imageFormat.prefix(5)) + "ngLogi" + String(m_atStr.suffix(6)) + String(showViewKey.prefix(6))) // uid缓存
//: public let TalkingLoginUserInfoCacheKey             = "TalkingLoginUserInfoCacheKey"             // 用户信息缓存
public let notiBottomMsg = (String(appLayerLikeNameFormat.suffix(6)) + "gLogin" + String(main_stylePath.prefix(5)) + "nfoCach" + String(show_removeData)) // 用户信息缓存
//: public let TalkingLastLoginTypeCacheKey             = "TalkingLastLoginTypeCacheKey"             // 隐私协议弹窗是否已展示
public let notiChangeLimitPath = (String(kErrorFormat) + String(showRangeDataKey) + String(noti_giftKey)) // 隐私协议弹窗是否已展示
//: public let TalkingLoginUserConfigKey                = "TalkingLoginUserConfigKey"                // 用户配置接口
public let notiDisplayData = (String(notiMakeTopInTitle) + String(userRemoveFormat)) // 用户配置接口
//: public let TalkingAppConfigKey                      = "TalkingAppConfigKey"                      // APP配置接口
public let user_messageId = "DataAppConfigKey" // APP配置接口
//: public let TalkingUserTagCacheUrlKey                = "TalkingUserTagCacheUrlKey"                // 用户标签
public let mainScreenUrl = (String(dream_toolFormat.prefix(5)) + "ngUser" + String(dream_cardMsg.suffix(8)) + String(main_managerValue.prefix(6))) // 用户标签
//: public let TalkingUserCookiesKey                    = "TalkingUserCookiesKey"                    // 用户cookies
public let main_useStr = (String(user_pushStr) + String(app_statusData.suffix(6))) // 用户cookies
//: public let TalkingHomeTabTurnOnNotificationsKey     = "TalkingHomeTabTurnOnNotificationsKey"     // homeTab_提醒打开系统通知
public let mainBarStr = String(bytes: show_giftKitData.map{statusField(error: $0)}, encoding: .utf8)! // homeTab_提醒打开系统通知
//: public let TalkingMessageTabTurnOnNotificationsKey  = "TalkingMessageTabTurnOnNotificationsKey"  // messageTab_提醒打开系统通知
public let app_nameUrl = String(bytes: dreamTitleKey.map{militaryInstallation(data: $0)}, encoding: .utf8)! // messageTab_提醒打开系统通知

//: public let TalkingMessageTabCloseNotificationsKey  = "TalkingMessageTabCloseNotificationsKey"  // message 提醒View关闭缓存
public let m_displayPathMessage = String(bytes: k_recordStr.map{$0^221}, encoding: .utf8)! // message 提醒View关闭缓存

//: public let TalkingCallShowTag                = "TalkingCallShowTag"                // 女性接听时展示手势
public let app_clickTitle = (String(dream_toIdent.suffix(6)) + String(show_atValue.prefix(2)) + String(dream_modelName.prefix(4)) + "howTag") // 女性接听时展示手势

//: public let TalkingFirstShowIntimateGuide                = "TalkingFirstShowIntimateGuide"                // 消息详情首次展示亲密度动效
public let showLiveTitle = (String(app_viewMsg) + String(mImageId)) // 消息详情首次展示亲密度动效

// 动态发布提示视图是否展示
//: public var TalkingFreeTipsViewIsShow: String {
public var m_styleMsg: String {
    //: return "TalkingFreeTipsViewIsShow_\(String(PathAppManager.share.loginUserMode.userID))"
    return (String(userQueryStr) + String(dreamModelData) + String(userAcceptId.prefix(4)) + "psView" + String(main_managerContentStr.suffix(7))) + "\(String(PathAppManager.share.loginUserMode.userID))"
}

// 女性直播“活跃认证说明页”是否已展示
//: public var TalkingLiveTabExplainIsShow: String {
public var k_clickKey: String {
    //: return "TalkingLiveTabExplainIsShow_\(String(PathAppManager.share.loginUserMode.userID))"
    return (String(k_withPath) + userToData.replacingOccurrences(of: "detail", with: "_")) + "\(String(PathAppManager.share.loginUserMode.userID))"
}

/// 男性未订阅弹窗是否已展示
//: public var TalkingMaleUnsubscribedAlertIsShow: String {
public var mViewOkPath: String {
    //: return "TalkingMaleUnsubscribedAlertIsShow_\(String(PathAppManager.share.loginUserMode.userID))"
    return String(bytes: dreamById.reversed(), encoding: .utf8)! + "\(String(PathAppManager.share.loginUserMode.userID))"
}

// AI亲密度说明弹窗是否已展示
//: public let TalkingAIIntimacyViewIsShow = "TalkingAIIntimacyViewIsShow"
public let dreamListMessageStr = (String(mPackageFormat.suffix(6)) + "gAIIn" + mainBackgroundKey.replacingOccurrences(of: "top", with: "m") + "yViewIs" + String(mainErrorIdent))

//: public let isFirstShowAnimatCacheKey  = "isFirstShowAnimatCacheKey"
public let kDisplayUserUrl = (String(m_bottomText.suffix(4)) + "rstShowA" + String(main_imagePath) + String(dreamPointData))

//: public let isFirstShowMatchTipsViewCacheKey  = "isFirstShowMatchTipsViewCacheKey"
public let kReplaceValue = String(bytes: userResentKey.reversed(), encoding: .utf8)!

//: public let isShowCleanAnimatCacheKey  = "isShowCleanAnimatCacheKey"
public let show_keyRecordTitle = (String(noti_beautyUrl.suffix(6)) + "CleanA" + String(user_bottomMsg.suffix(6)) + String(dreamSelectData))

//: public let isConversationIntimateCacheKey  = "isConversationIntimateCacheKey"
public let k_messageId = (String(noti_lineStr) + show_isolateTitle.replacingOccurrences(of: "time", with: "e") + String(mHeartUrl.prefix(4)) + "eKey")

/// 一键打招呼本地存储key
//: public let TalkingSendAutoGreetIsToKey  = "sendAutoGreetIsTo"
public let user_halfTitle = (main_ofValue.replacingOccurrences(of: "show", with: "e") + "AutoGr" + String(app_valueFormat.prefix(7)))

/// 邀请码
//: public let SaveInviteCodeKey  = "SaveInviteCodeKey"
public let userBarMessage = (String(userMakeListSuperMessage) + String(kNameMessage))

/// 私聊底部提示语_
//: public let PrivateChatTipsTitle  = "PrivateChatTipsTitle"
public let app_changeUrl = (String(k_layerName.prefix(5)) + String(userRemoveStr) + String(mModelUrl.suffix(5)) + "ipsT" + userErrorId.lowercased())

/** 语音文件录制存储的路径 */
//: public let Talking_Chat_record_SandboxPath = NSHomeDirectory().appending("/Documents/User/record/")
public let show_indexStatusMessage = NSHomeDirectory().appending((String(user_viewMessage.prefix(4)) + "ument" + String(app_valueContent.prefix(6)) + String(dreamAddText)))
//: public let Talking_Chat_voice_SandboxPath = NSHomeDirectory().appending("/Documents/User/voice/")
public let main_methodTitle = NSHomeDirectory().appending((String(main_toText) + String(m_labelId.suffix(7)) + String(app_clickMessage)))

//: @objcMembers public class AppCacheDefine: NSObject {
@objcMembers public class ResumeCacheDefine: NSObject {
    //: @objc public class func getChatRecordPath() -> String {
    @objc public class func strain() -> String {
        //: return Talking_Chat_record_SandboxPath
        return show_indexStatusMessage
    }

    //: @objc public class func getChatVoicePath() -> String {
    @objc public class func addContent() -> String {
        //: return Talking_Chat_voice_SandboxPath
        return main_methodTitle
    }

    /// 获取私密图片本地缓存文件
    //: @objc public static func getIntimatePhotoPath() -> String {
    public static func upGift() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimatePhoto") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(dreamBlockStr) + String(m_fromUrl.prefix(5)))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = PathAppManager.share.loginUid
        let uid = PathAppManager.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(appMakeKey) + String(main_frameWithIdent)) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getIntimateVideoPath() -> String {
    public static func sizeCrop() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimateVideo") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(kPushAcceptUrl.suffix(5)) + "geIn" + dreamBottomPath.replacingOccurrences(of: "time", with: "t") + "teVideo")) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = PathAppManager.share.loginUid
        let uid = PathAppManager.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(appMakeKey) + String(main_frameWithIdent)) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getAskForGiftPath() -> String {
    public static func withUnwanted() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageAskForGift") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(k_countId.suffix(5)) + "geAs" + String(showViewMessage.suffix(8)))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = PathAppManager.share.loginUid
        let uid = PathAppManager.share.loginUid
        //: return cacheDict.appendingPathComponent("AskForGiftArr_\(uid)").path
        return cacheDict.appendingPathComponent((String(main_indexUrl.suffix(6)) + "GiftArr_") + "\(uid)").path
    }
}

//: func createMsgVoicePath() {
func createMsgVoicePath() {
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_record_SandboxPath)
    _ = FileManager.loadDownTotalimate(folderPath: show_indexStatusMessage)
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_voice_SandboxPath)
    _ = FileManager.loadDownTotalimate(folderPath: main_methodTitle)
}
